{
  "6": {
    "inputs": {
      "text": [
        "149",
        0
      ],
      "clip": [
        "128",
        1
      ]
    },
    "class_type": "CLIPTextEncode",
    "_meta": {
      "title": "CLIP Text Encode (Positive Low)"
    }
  },
  "7": {
    "inputs": {
      "text": [
        "150",
        0
      ],
      "clip": [
        "128",
        1
      ]
    },
    "class_type": "CLIPTextEncode",
    "_meta": {
      "title": "CLIP Text Encode (Negative Low)"
    }
  },
  "8": {
    "inputs": {
      "samples": [
        "58",
        0
      ],
      "vae": [
        "39",
        0
      ]
    },
    "class_type": "VAEDecode",
    "_meta": {
      "title": "VAE Decode"
    }
  },
  "39": {
    "inputs": {
      "vae_name": "wan\\wan_2.1_vae.safetensors"
    },
    "class_type": "VAELoader",
    "_meta": {
      "title": "Load VAE"
    }
  },
  "54": {
    "inputs": {
      "shift": 8.000000000000002,
      "model": [
        "127",
        0
      ]
    },
    "class_type": "ModelSamplingSD3",
    "_meta": {
      "title": "ModelSamplingSD3 (High)"
    }
  },
  "55": {
    "inputs": {
      "shift": 8.000000000000002,
      "model": [
        "113",
        0
      ]
    },
    "class_type": "ModelSamplingSD3",
    "_meta": {
      "title": "ModelSamplingSD3 (Low)"
    }
  },
  "57": {
    "inputs": {
      "add_noise": "enable",
      "noise_seed": [
        "229",
        0
      ],
      "steps": [
        "238",
        0
      ],
      "cfg": 3.5,
      "sampler_name": "euler",
      "scheduler": "beta",
      "start_at_step": 0,
      "end_at_step": [
        "222",
        0
      ],
      "return_with_leftover_noise": "enable",
      "model": [
        "54",
        0
      ],
      "positive": [
        "258",
        0
      ],
      "negative": [
        "258",
        1
      ],
      "latent_image": [
        "258",
        2
      ]
    },
    "class_type": "KSamplerAdvanced",
    "_meta": {
      "title": "KSampler (Advanced)"
    }
  },
  "58": {
    "inputs": {
      "add_noise": "disable",
      "noise_seed": 0,
      "steps": [
        "238",
        0
      ],
      "cfg": 1,
      "sampler_name": "euler",
      "scheduler": "beta",
      "start_at_step": [
        "224",
        0
      ],
      "end_at_step": 10000,
      "return_with_leftover_noise": "disable",
      "model": [
        "55",
        0
      ],
      "positive": [
        "257",
        0
      ],
      "negative": [
        "257",
        1
      ],
      "latent_image": [
        "235",
        0
      ]
    },
    "class_type": "KSamplerAdvanced",
    "_meta": {
      "title": "KSampler (Advanced)"
    }
  },
  "90": {
    "inputs": {
      "frame_rate": 24,
      "loop_count": 0,
      "filename_prefix": "wan",
      "format": "video/h264-mp4",
      "pix_fmt": "yuv420p",
      "crf": 19,
      "save_metadata": true,
      "trim_to_audio": false,
      "pingpong": false,
      "save_output": false,
      "images": [
        "105",
        0
      ]
    },
    "class_type": "VHS_VideoCombine",
    "_meta": {
      "title": "Save Video (MP4)"
    }
  },
  "95": {
    "inputs": {
      "clip_name": "umt5_xxl_fp8_e4m3fn_scaled.safetensors",
      "type": "wan",
      "device": "default"
    },
    "class_type": "CLIPLoader",
    "_meta": {
      "title": "Load CLIP"
    }
  },
  "96": {
    "inputs": {
      "unet_name": "WAN\\2.2\\Wan2_2-I2V-A14B-HIGH_fp8_e4m3fn_scaled_KJ.safetensors",
      "weight_dtype": "default"
    },
    "class_type": "UNETLoader",
    "_meta": {
      "title": "Load Diffusion Model"
    }
  },
  "97": {
    "inputs": {
      "unet_name": "WAN\\2.2\\Wan2_2-I2V-A14B-LOW_fp8_e4m3fn_scaled_KJ.safetensors",
      "weight_dtype": "default"
    },
    "class_type": "UNETLoader",
    "_meta": {
      "title": "Load Diffusion Model"
    }
  },
  "98": {
    "inputs": {
      "empty_cache": true,
      "gc_collect": true,
      "unload_all_models": true,
      "image_pass": [
        "270",
        0
      ]
    },
    "class_type": "VRAM_Debug",
    "_meta": {
      "title": "VRAM Debug"
    }
  },
  "105": {
    "inputs": {
      "clean_file_cache": true,
      "clean_processes": true,
      "clean_dlls": true,
      "retry_times": 3,
      "anything": [
        "98",
        1
      ]
    },
    "class_type": "RAMCleanup",
    "_meta": {
      "title": "🎈RAM-Cleanup"
    }
  },
  "113": {
    "inputs": {
      "nag_scale": 11,
      "nag_alpha": 0.25,
      "nag_tau": 2.5,
      "input_type": "default",
      "model": [
        "128",
        0
      ],
      "conditioning": [
        "7",
        0
      ]
    },
    "class_type": "WanVideoNAG",
    "_meta": {
      "title": "WanVideoNAG"
    }
  },
  "127": {
    "inputs": {
      "PowerLoraLoaderHeaderWidget": {
        "type": "PowerLoraLoaderHeaderWidget"
      },
      "➕ Add Lora": "",
      "model": [
        "96",
        0
      ],
      "clip": [
        "95",
        0
      ]
    },
    "class_type": "Power Lora Loader (rgthree)",
    "_meta": {
      "title": "Lora (High Full)"
    }
  },
  "128": {
    "inputs": {
      "PowerLoraLoaderHeaderWidget": {
        "type": "PowerLoraLoaderHeaderWidget"
      },
      "➕ Add Lora": "",
      "model": [
        "267",
        0
      ],
      "clip": [
        "95",
        0
      ]
    },
    "class_type": "Power Lora Loader (rgthree)",
    "_meta": {
      "title": "Lora (Low)"
    }
  },
  "147": {
    "inputs": {
      "text": [
        "149",
        0
      ],
      "clip": [
        "127",
        1
      ]
    },
    "class_type": "CLIPTextEncode",
    "_meta": {
      "title": "CLIP Text Encode (Positive High)"
    }
  },
  "148": {
    "inputs": {
      "text": [
        "150",
        0
      ],
      "clip": [
        "127",
        1
      ]
    },
    "class_type": "CLIPTextEncode",
    "_meta": {
      "title": "CLIP Text Encode (Negative High)"
    }
  },
  "149": {
    "inputs": {
      "value": "a beautiful scene transforming through time"
    },
    "class_type": "PrimitiveStringMultiline",
    "_meta": {
      "title": "Positive Prompt"
    }
  },
  "150": {
    "inputs": {
      "value": "色调艳丽，过曝，静态，细节模糊不清，字幕，风格，作品，画作，画面，静止，整体发灰，最差质量，低质量，JPEG压缩残留，丑陋的，残缺的，多余的手指，画得不好的手部，画得不好的脸部，畸形的，毁容的，形态畸形的肢体，手指融合，静止不动的画面，杂乱的背景，三条腿，背景人很多，倒着走, slow motion"
    },
    "class_type": "PrimitiveStringMultiline",
    "_meta": {
      "title": "Negative Prompt"
    }
  },
  "152": {
    "inputs": {
      "conditioning": [
        "6",
        0
      ]
    },
    "class_type": "ConditioningZeroOut",
    "_meta": {
      "title": "ConditioningZeroOut"
    }
  },
  "222": {
    "inputs": {
      "value": 2
    },
    "class_type": "PrimitiveInt",
    "_meta": {
      "title": "High Steps"
    }
  },
  "223": {
    "inputs": {
      "value": 2
    },
    "class_type": "PrimitiveInt",
    "_meta": {
      "title": "Low Steps"
    }
  },
  "224": {
    "inputs": {
      "op": "Add",
      "a": [
        "222",
        0
      ],
      "b": [
        "237",
        0
      ]
    },
    "class_type": "CM_IntBinaryOperation",
    "_meta": {
      "title": "Total Steps"
    }
  },
  "229": {
    "inputs": {
      "seed": -1
    },
    "class_type": "Seed (rgthree)",
    "_meta": {
      "title": "Seed (rgthree)"
    }
  },
  "230": {
    "inputs": {
      "nag_scale": 11,
      "nag_alpha": 0.25,
      "nag_tau": 2.5,
      "input_type": "default",
      "model": [
        "239",
        0
      ],
      "conditioning": [
        "232",
        0
      ]
    },
    "class_type": "WanVideoNAG",
    "_meta": {
      "title": "WanVideoNAG"
    }
  },
  "231": {
    "inputs": {
      "text": [
        "149",
        0
      ],
      "clip": [
        "239",
        1
      ]
    },
    "class_type": "CLIPTextEncode",
    "_meta": {
      "title": "CLIP Text Encode (Positive High)"
    }
  },
  "232": {
    "inputs": {
      "text": [
        "150",
        0
      ],
      "clip": [
        "239",
        1
      ]
    },
    "class_type": "CLIPTextEncode",
    "_meta": {
      "title": "CLIP Text Encode (Negative High)"
    }
  },
  "233": {
    "inputs": {
      "unet_name": "WAN\\2.2\\Wan2_2-I2V-A14B-HIGH_fp8_e4m3fn_scaled_KJ.safetensors",
      "weight_dtype": "default"
    },
    "class_type": "UNETLoader",
    "_meta": {
      "title": "Load Diffusion Model"
    }
  },
  "235": {
    "inputs": {
      "add_noise": "disable",
      "noise_seed": [
        "229",
        0
      ],
      "steps": [
        "238",
        0
      ],
      "cfg": 1,
      "sampler_name": "euler",
      "scheduler": "beta",
      "start_at_step": [
        "222",
        0
      ],
      "end_at_step": [
        "224",
        0
      ],
      "return_with_leftover_noise": "enable",
      "model": [
        "240",
        0
      ],
      "positive": [
        "264",
        0
      ],
      "negative": [
        "264",
        1
      ],
      "latent_image": [
        "57",
        0
      ]
    },
    "class_type": "KSamplerAdvanced",
    "_meta": {
      "title": "KSampler (Advanced)"
    }
  },
  "236": {
    "inputs": {
      "conditioning": [
        "231",
        0
      ]
    },
    "class_type": "ConditioningZeroOut",
    "_meta": {
      "title": "ConditioningZeroOut"
    }
  },
  "237": {
    "inputs": {
      "value": 2
    },
    "class_type": "PrimitiveInt",
    "_meta": {
      "title": "High Steps"
    }
  },
  "238": {
    "inputs": {
      "op": "Add",
      "a": [
        "224",
        0
      ],
      "b": [
        "223",
        0
      ]
    },
    "class_type": "CM_IntBinaryOperation",
    "_meta": {
      "title": "Total Steps"
    }
  },
  "239": {
    "inputs": {
      "PowerLoraLoaderHeaderWidget": {
        "type": "PowerLoraLoaderHeaderWidget"
      },
      "➕ Add Lora": "",
      "model": [
        "266",
        0
      ],
      "clip": [
        "95",
        0
      ]
    },
    "class_type": "Power Lora Loader (rgthree)",
    "_meta": {
      "title": "Lora (High Lightning)"
    }
  },
  "240": {
    "inputs": {
      "shift": 8.000000000000002,
      "model": [
        "230",
        0
      ]
    },
    "class_type": "ModelSamplingSD3",
    "_meta": {
      "title": "ModelSamplingSD3 (High)"
    }
  },
  "251": {
    "inputs": {
      "batch_index": 81,
      "length": 1,
      "image": [
        "270",
        0
      ]
    },
    "class_type": "ImageFromBatch",
    "_meta": {
      "title": "ImageFromBatch"
    }
  },
  "252": {
    "inputs": {
      "filename_prefix": "WanI2V",
      "images": [
        "251",
        0
      ]
    },
    "class_type": "SaveImage",
    "_meta": {
      "title": "Save Image"
    }
  },
  "257": {
    "inputs": {
      "width": 640,
      "height": 360,
      "length": 81,
      "batch_size": 1,
      "positive": [
        "6",
        0
      ],
      "negative": [
        "152",
        0
      ],
      "vae": [
        "39",
        0
      ],
      "start_image": [
        "259",
        0
      ]
    },
    "class_type": "WanImageToVideo",
    "_meta": {
      "title": "WanImageToVideo (Low)"
    }
  },
  "258": {
    "inputs": {
      "width": 640,
      "height": 360,
      "length": 81,
      "batch_size": 1,
      "positive": [
        "147",
        0
      ],
      "negative": [
        "148",
        0
      ],
      "vae": [
        "39",
        0
      ],
      "start_image": [
        "259",
        0
      ]
    },
    "class_type": "WanImageToVideo",
    "_meta": {
      "title": "WanImageToVideo (High)"
    }
  },
  "259": {
    "inputs": {
      "width": 640,
      "height": 360,
      "upscale_method": "lanczos",
      "keep_proportion": "resize",
      "pad_color": "0, 0, 0",
      "crop_position": "center",
      "divisible_by": 16,
      "device": "cpu",
      "image": [
        "295",
        0
      ],
      "mask": [
        "295",
        1
      ]
    },
    "class_type": "ImageResizeKJv2",
    "_meta": {
      "title": "Resize Image v2"
    }
  },
  "260": {
    "inputs": {
      "upscale_method": "lanczos",
      "megapixels": 0.5000000000000001,
      "image": [
        "295",
        0
      ]
    },
    "class_type": "ImageScaleToTotalPixels",
    "_meta": {
      "title": "Scale Image to Total Pixels"
    }
  },
  "261": {
    "inputs": {
      "image": [
        "260",
        0
      ]
    },
    "class_type": "GetImageSize",
    "_meta": {
      "title": "Get Image Size"
    }
  },
  "264": {
    "inputs": {
      "width": 640,
      "height": 360,
      "length": 81,
      "batch_size": 1,
      "positive": [
        "231",
        0
      ],
      "negative": [
        "236",
        0
      ],
      "vae": [
        "39",
        0
      ],
      "start_image": [
        "259",
        0
      ]
    },
    "class_type": "WanImageToVideo",
    "_meta": {
      "title": "WanImageToVideo (High)"
    }
  },
  "266": {
    "inputs": {
      "lora_name": "WAN\\Wan2.2-Lightning_I2V-A14B-4steps-lora_HIGH_fp16.safetensors",
      "strength_model": 1.0000000000000002,
      "model": [
        "233",
        0
      ]
    },
    "class_type": "LoraLoaderModelOnly",
    "_meta": {
      "title": "LoraLoaderModelOnly"
    }
  },
  "267": {
    "inputs": {
      "lora_name": "WAN\\Wan2.2-Lightning_I2V-A14B-4steps-lora_LOW_fp16.safetensors",
      "strength_model": 1.0000000000000002,
      "model": [
        "97",
        0
      ]
    },
    "class_type": "LoraLoaderModelOnly",
    "_meta": {
      "title": "LoraLoaderModelOnly"
    }
  },
  "269": {
    "inputs": {
      "image": [
        "8",
        0
      ]
    },
    "class_type": "GetImageSize",
    "_meta": {
      "title": "Get Image Size"
    }
  },
  "270": {
    "inputs": {
      "width": [
        "269",
        0
      ],
      "height": [
        "269",
        1
      ],
      "upscale_method": "lanczos",
      "keep_proportion": "resize",
      "pad_color": "0, 0, 0",
      "crop_position": "center",
      "divisible_by": 16,
      "device": "cpu",
      "image": [
        "8",
        0
      ]
    },
    "class_type": "ImageResizeKJv2",
    "_meta": {
      "title": "Resize Image v2"
    }
  },
  "295": {
    "inputs": {
      "image": ""
    },
    "class_type": "ETN_LoadImageBase64",
    "_meta": {
      "title": "Load Image (Base64)"
    }
  }
}