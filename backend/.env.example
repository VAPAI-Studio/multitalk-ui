# ==============================================
# MultiTalk UI Backend Configuration
# ==============================================
# Copy this file to .env and fill in your actual values

# ==============================================
# DATABASE CONFIGURATION (Supabase)
# ==============================================
SUPABASE_URL=https://your-project-ref.supabase.co
# Use SERVICE_ROLE_KEY for server operations (bypasses RLS)
SUPABASE_SERVICE_ROLE_KEY=your-supabase-service-role-key-here
# Use ANON_KEY for client operations
SUPABASE_ANON_KEY=your-supabase-anon-key-here
# Legacy fallback (deprecated, use the above instead)
# SUPABASE_KEY=your-supabase-anon-key-here

# ==============================================
# EXTERNAL API KEYS
# ==============================================
OPENROUTER_API_KEY=your-openrouter-api-key-here

# ==============================================
# COMFYUI CONFIGURATION
# ==============================================
COMFYUI_SERVER_URL=https://comfy.vapai.studio
# Optional API key for ComfyUI authentication
# COMFY_API_KEY=your-comfyui-api-key

# ==============================================
# TRAINING CONFIGURATION (Flux/LoRA)
# ==============================================
# Directory for training workspaces
TRAINING_WORKSPACE_DIR=./training_workspace
# Path to Kohya SS installation
KOHYA_SS_PATH=/opt/kohya_ss

# ==============================================
# GOOGLE DRIVE CONFIGURATION
# ==============================================
# Option 1: Path to JSON file (for local development)
GOOGLE_DRIVE_CREDENTIALS_FILE=./credentials/google-drive-service-account.json
# Option 2: JSON string (for Heroku/production - use one or the other)
# GOOGLE_DRIVE_CREDENTIALS_JSON='{"type":"service_account",...}'
# Shared Drive ID (from URL: drive.google.com/drive/folders/DRIVE_ID)
GOOGLE_DRIVE_SHARED_DRIVE_ID=your-shared-drive-id

# ==============================================
# APPLICATION SETTINGS
# ==============================================
DEBUG=false
HOST=127.0.0.1
PORT=8000

# ==============================================
# STORAGE CONFIGURATION
# ==============================================
STORAGE_BUCKET_VIDEOS=multitalk-videos
STORAGE_BUCKET_IMAGES=edited-images

# ==============================================
# UPLOAD LIMITS
# ==============================================
MAX_UPLOAD_SIZE=10485760  # 10MB in bytes

# ==============================================
# RATE LIMITING
# ==============================================
RATE_LIMIT_PER_MINUTE=60
RATE_LIMIT_BURST=10

# ==============================================
# PROCESSING CONFIGURATION
# ==============================================
IMAGE_PROCESSING_TIMEOUT=300  # 5 minutes
MAX_CONCURRENT_JOBS=5

# ==============================================
# CORS SETTINGS (comma-separated)
# ==============================================
ALLOWED_ORIGINS=http://localhost:3000,http://localhost:5173,http://127.0.0.1:3000,http://127.0.0.1:5173

# ==============================================
# AUTHENTICATION SETTINGS
# ==============================================
# Comma-separated list of allowed email domains for registration
# Only users with these email domains can create accounts
ALLOWED_EMAIL_DOMAINS=vapai.studio,sideoutsticks.com

# ==============================================
# PAGINATION
# ==============================================
DEFAULT_PAGE_SIZE=20
MAX_PAGE_SIZE=100